# DFO Party Management Application - 개발 계획서

## 🎯 **프로젝트 개요**
던전 파이터 온라인(DFO) 파티 관리 애플리케이션으로, 캐릭터 검색, 정보 관리, 파티 구성 기능을 제공합니다.

## ✅ **완료된 작업**

### **프로젝트 구조 설정**
- [x] Vue.js 3 + TypeScript 프론트엔드 프로젝트 생성
- [x] Spring Boot 3.2.0 + Java 17 백엔드 프로젝트 생성
- [x] Gradle 빌드 시스템 설정
- [x] CORS 설정 및 프론트엔드-백엔드 통신 환경 구성

### **프론트엔드 기본 구조**
- [x] Vue Router 설정 (Character Search, Character List, Party Formation)
- [x] 기본 UI 컴포넌트 생성
- [x] DFO API 클라이언트 서비스 구현
- [x] Dundam 서비스 (현재 Mock 데이터 사용)
- [x] Local Storage를 통한 캐릭터 데이터 저장

### **백엔드 기본 구조**
- [x] Spring Boot 애플리케이션 실행
- [x] H2 인메모리 데이터베이스 연결
- [x] JPA 설정 완료
- [x] CORS 설정 완료
- [x] Hot Reload (DevTools) 설정 완료

### **API 구현**
- [x] DFO API 연동 (서버 목록, 캐릭터 검색, 상세 정보, 타임라인)
- [x] Dundam.xyz 연동 (캐릭터 스펙 정보)
- [x] 던전 클리어 현황 조회 API
- [x] 파티 최적화 API

### **프론트엔드 기능**
- [x] 캐릭터 검색 및 저장 (Local Storage)
- [x] 캐릭터 리스트 및 던전 클리어 현황 표시
- [x] 파티 구성 (자동/수동 모드)
- [x] 8인 파티 지원
- [x] 던전별 상세 규칙 표시
- [x] 파티 효율성 분석

### **데이터베이스 기반 구조 전환**
- [x] **캐릭터 정보 DB 저장 시스템**
  - [x] 캐릭터 정보를 DB에 저장하는 구조 구현
  - [x] DB 정보로 먼저 표시하고 async하게 동기화하는 구조
  - [x] 쿠키에는 검색한 모험단, 캐릭터명, 캐릭터 ID만 저장
  - [x] 나머지 상세 정보는 DB에서 관리

- [x] **업둥이 캐릭터 및 제외 기능**
  - [x] 우클릭으로 업둥이 캐릭터 지정 기능
  - [x] 특정 던전에서 캐릭터 제외 기능
  - [x] 제외 정보를 DB에 저장
  - [x] 파티 구성 시 제외된 캐릭터 자동 필터링

### **백엔드 API 개발**
- [x] **DFO API 연동**
  - [x] 서버 목록 조회 API
  - [x] 캐릭터 검색 API
  - [x] 캐릭터 상세 정보 API
  - [x] 타임라인 조회 API
  - [x] API 호출 제한 및 에러 핸들링

- [x] **Dundam.xyz 연동**
  - [x] 웹 스크래핑 또는 API 연동
  - [x] 버프력/총딜 데이터 수집
  - [x] 데이터 정규화 및 저장

- [x] **데이터베이스 모델링**
  - [x] 캐릭터 정보 엔티티 설계
  - [x] 모험단 정보 엔티티 설계
  - [x] 던전 클리어 현황 엔티티 설계
  - [x] 파티 구성 히스토리 엔티티 설계
  - [x] 업둥이 캐릭터 및 제외 정보 엔티티 설계

### **던전별 상세 규칙**
- [x] 나벨 하드/일반 모드 구분
- [x] 명성 기준 필터링 (나벨 63000, 베누스 41929, 안개신 32253)
- [x] 던전별 최소 구성 요구사항 적용

### **업둥이 우선 파티 구성**
- [x] 업둥이 우선 파티 구성하기 버튼 구현
- [x] 쌘딜러 하나 + 버퍼 하나 + 지정된 업둥이들로 구성
- [x] 평균 파티 구성하기 버튼 구현
- [x] 업둥이 캐릭터 우선순위 적용

### **자동 파티 수정 기능**
- [x] 자동으로 구성된 파티에서 인원 수정 기능
- [x] 수동으로 드래그 앤 드롭으로 캐릭터 이동
- [x] 실시간 파티 효율성 분석 업데이트
- [x] 파티 슬롯 간 캐릭터 교체
- [x] 파티 간 캐릭터 이동
- [x] 파티 구성 실시간 검증
- [x] 파티 수정 히스토리 관리

### **Mock 서버 구현**
- [x] Mock 서버 구현 및 DNF API 응답 저장
- [x] Dundam API 응답 저장 및 Mock 데이터 관리
- [x] application.yaml에서 Mock 모드 설정 (true/false)
- [x] API 호출 시마다 응답 결과 자동 저장
- [x] Mock 모드에서 저장된 데이터로 동일한 응답 반환
- [x] 개발/테스트 환경에서 API 호출 없이 기능 테스트 가능

### **사용자 간 공유 기능**
- [x] 파티 공유 시스템 구현
- [x] 6자리 공유 코드로 파티 구성 공유
- [x] 공유 파티 저장 및 관리
- [x] 자동 만료 관리 (기본 7일)
- [x] 검색 및 필터링 기능

### **실시간 데이터 동기화 개선**
- [x] WebSocket 기반 실시간 통신 시스템 구현
- [x] STOMP 프로토콜을 통한 메시지 브로커 설정
- [x] 실시간 이벤트 모델 및 서비스 구현
- [x] 캐릭터 업데이트, 파티 변경 등 실시간 알림
- [x] 실시간 채팅 시스템 구현
- [x] 사용자 접속/해제 상태 실시간 표시
- [x] 프론트엔드 WebSocket 클라이언트 서비스 구현
- [x] 실시간 알림 UI 컴포넌트 구현
- [x] 알림 설정 및 필터링 기능

## 🚧 **진행 중인 작업**

### **Phase 2 - 고급 기능**
- [ ] **8인 파티 구성 (3인딜러+1버퍼로 2파티)**
  - [ ] 8인 파티 구성 규칙 구현 (3딜러+1버퍼 × 2파티)
  - [ ] UI/UX 8인 파티 지원
  - [ ] 2파티 간 밸런스 최적화

## 📋 **새로 추가된 기능**

### **프론트엔드 개선**
- [ ] **UI/UX 개선**
  - [ ] 반응형 디자인 적용
  - [ ] 다크/라이트 테마 지원
  - [ ] 드래그 앤 드롭 파티 구성 UI
  - [ ] 실시간 데이터 업데이트

### **Phase 3 - 고급 파티 기능**
- [ ] **파티 최적화**
  - [ ] 딜러/버퍼 밸런스 최적화
  - [ ] 전투력 기반 자동 매칭
  - [ ] 파티 구성 추천 시스템

### **Phase 4 - 카카오톡 봇 연동 (맨 뒤로 이동)**
- [ ] **카카오톡 봇 개발**
  - [ ] 카카오비즈니스 플랫폼 연동
  - [ ] 모험단 이름 또는 캐릭터 이름 입력 받기
  - [ ] 던전 이름 (나벨, 안개신, 베누스) 입력 받기
  - [ ] 해당 조건에 맞는 안 간 캐릭터 목록 반환
  - [ ] 봇 응답 메시지 최적화

### **Phase 5 - 통계 및 분석 (맨 뒤로 이동)**
- [ ] **통계 및 분석**
  - [ ] 파티 성공률 통계
  - [ ] 캐릭터 성능 분석
  - [ ] 던전별 클리어 현황 대시보드

## 🚀 **개발 우선순위 (최신화됨)**

### **즉시 진행 (1-2주)**
1. 8인 파티 구성 기능 구현
2. 프론트엔드 파티 수정 UI 추가

### **단기 목표 (3-4주)**
1. UI/UX 개선 및 반응형 디자인
2. 고급 파티 최적화 기능 구현

### **중기 목표 (1-2개월)**
1. 파티 구성 추천 시스템
2. ~~실시간 데이터 동기화 개선~~ ✅ 완료

### **장기 목표 (3-6개월)**
1. 카카오톡 봇 연동
2. 통계 및 분석 기능
3. 고급 데이터 관리 기능

## ⚠️ **주의사항**

### **API 제한**
- DFO API 호출 제한: 100회/분
- Dundam.xyz 접근 제한 가능성

### **데이터 정확성**
- DFO API 데이터 실시간성
- Dundam.xyz 데이터 신뢰성

### **성능 고려사항**
- 대량 캐릭터 데이터 처리
- 실시간 파티 구성 계산
- 프론트엔드 렌더링 최적화

### **카카오톡 봇 고려사항 (Phase 4로 이동)**
- 카카오비즈니스 플랫폼 정책 준수
- 봇 응답 속도 최적화
- 사용자 입력 처리 안정성

## 🛠 **기술 스택**

### **프론트엔드**
- Vue.js 3 + TypeScript
- Vue Router
- Pinia (상태 관리)
- Vite (빌드 도구)
- Axios (HTTP 클라이언트)

### **백엔드**
- Spring Boot 3.2.0
- Java 17
- Spring Data JPA
- H2 Database (개발용)
- Gradle (빌드 도구)

### **외부 API**
- Neople DFO API
- Dundam.xyz (캐릭터 스펙)
- 카카오비즈니스 플랫폼 (봇 연동 - Phase 4)

### **데이터베이스**
- H2 Database (개발용)
- MySQL/PostgreSQL (운영용 예정)
- Redis (캐싱용 예정) 