# DFO Party Management Application - 개발 계획서

## 🎯 **프로젝트 개요**
던전 파이터 온라인(DFO) 파티 관리 애플리케이션으로, 캐릭터 검색, 정보 관리, 파티 구성 기능을 제공합니다.

## ✅ **완료된 작업**

### **프로젝트 구조 설정**
- [x] Vue.js 3 + TypeScript 프론트엔드 프로젝트 생성
- [x] Spring Boot 3.2.0 + Java 17 백엔드 프로젝트 생성
- [x] Gradle 빌드 시스템 설정
- [x] CORS 설정 및 프론트엔드-백엔드 통신 환경 구성

### **프론트엔드 기본 구조**
- [x] Vue Router 설정 (Character Search, Character List, Party Formation)
- [x] 기본 UI 컴포넌트 생성
- [x] DFO API 클라이언트 서비스 구현
- [x] Dundam 서비스 (현재 Mock 데이터 사용)
- [x] Local Storage를 통한 캐릭터 데이터 저장

### **백엔드 기본 구조**
- [x] Spring Boot 애플리케이션 실행
- [x] H2 인메모리 데이터베이스 연결
- [x] JPA 설정 완료
- [x] CORS 설정 완료
- [x] Hot Reload (DevTools) 설정 완료

### **API 구현**
- [x] DFO API 연동 (서버 목록, 캐릭터 검색, 상세 정보, 타임라인)
- [x] Dundam.xyz 연동 (캐릭터 스펙 정보)
- [x] 던전 클리어 현황 조회 API
- [x] 파티 최적화 API

### **프론트엔드 기능**
- [x] 캐릭터 검색 및 저장 (Local Storage)
- [x] 캐릭터 리스트 및 던전 클리어 현황 표시
- [x] 파티 구성 (자동/수동 모드)
- [x] 8인 파티 지원
- [x] 던전별 상세 규칙 표시
- [x] 파티 효율성 분석

### **데이터베이스 기반 구조 전환**
- [x] **캐릭터 정보 DB 저장 시스템**
  - [x] 캐릭터 정보를 DB에 저장하는 구조 구현
  - [x] DB 정보로 먼저 표시하고 async하게 동기화하는 구조
  - [x] 쿠키에는 검색한 모험단, 캐릭터명, 캐릭터 ID만 저장
  - [x] 나머지 상세 정보는 DB에서 관리

- [x] **업둥이 캐릭터 및 제외 기능**
  - [x] 우클릭으로 업둥이 캐릭터 지정 기능
  - [x] 특정 던전에서 캐릭터 제외 기능
  - [x] 제외 정보를 DB에 저장
  - [x] 파티 구성 시 제외된 캐릭터 자동 필터링

### **백엔드 API 개발**
- [x] **DFO API 연동**
  - [x] 서버 목록 조회 API
  - [x] 캐릭터 검색 API
  - [x] 캐릭터 상세 정보 API
  - [x] 타임라인 조회 API
  - [x] API 호출 제한 및 에러 핸들링

- [x] **Dundam.xyz 연동**
  - [x] 웹 스크래핑 또는 API 연동
  - [x] 버프력/총딜 데이터 수집
  - [x] 데이터 정규화 및 저장

- [x] **데이터베이스 모델링**
  - [x] 캐릭터 정보 엔티티 설계
  - [x] 모험단 정보 엔티티 설계
  - [x] 던전 클리어 현황 엔티티 설계
  - [x] 파티 구성 히스토리 엔티티 설계
  - [x] 업둥이 캐릭터 및 제외 정보 엔티티 설계

### **던전별 상세 규칙**
- [x] 나벨 하드/일반 모드 구분
- [x] 명성 기준 필터링 (나벨 63000, 베누스 41929, 안개신 32253)
- [x] 던전별 최소 구성 요구사항 적용

### **업둥이 우선 파티 구성**
- [x] 업둥이 우선 파티 구성하기 버튼 구현
- [x] 쌘딜러 하나 + 버퍼 하나 + 지정된 업둥이들로 구성
- [x] 평균 파티 구성하기 버튼 구현
- [x] 업둥이 캐릭터 우선순위 적용

### **자동 파티 수정 기능**
- [x] 자동으로 구성된 파티에서 인원 수정 기능
- [x] 수동으로 드래그 앤 드롭으로 캐릭터 이동
- [x] 실시간 파티 효율성 분석 업데이트
- [x] 파티 슬롯 간 캐릭터 교체
- [x] 파티 간 캐릭터 이동
- [x] 파티 구성 실시간 검증
- [x] 파티 수정 히스토리 관리

### **Mock 서버 구현**
- [x] Mock 서버 구현 및 DNF API 응답 저장
- [x] Dundam API 응답 저장 및 Mock 데이터 관리
- [x] application.yaml에서 Mock 모드 설정 (true/false)
- [x] API 호출 시마다 응답 결과 자동 저장
- [x] Mock 모드에서 저장된 데이터로 동일한 응답 반환
- [x] 개발/테스트 환경에서 API 호출 없이 기능 테스트 가능

### **사용자 간 공유 기능**
- [x] 파티 공유 시스템 구현
- [x] 6자리 공유 코드로 파티 구성 공유
- [x] 공유 파티 저장 및 관리
- [x] 자동 만료 관리 (기본 7일)
- [x] 검색 및 필터링 기능

### **실시간 데이터 동기화 개선**
- [x] WebSocket 기반 실시간 통신 시스템 구현
- [x] STOMP 프로토콜을 통한 메시지 브로커 설정
- [x] 실시간 이벤트 모델 및 서비스 구현
- [x] 캐릭터 업데이트, 파티 변경 등 실시간 알림
- [x] 실시간 채팅 시스템 구현
- [x] 사용자 접속/해제 상태 실시간 표시
- [x] 프론트엔드 WebSocket 클라이언트 서비스 구현
- [x] 실시간 알림 UI 컴포넌트 구현
- [x] 알림 설정 및 필터링 기능

### **8인 파티 구성 (3인딜러+1버퍼로 2파티)**
- [x] 8인 파티 구성 규칙 구현 (3딜러+1버퍼 × 2파티)
- [x] UI/UX 8인 파티 지원
- [x] 2파티 간 밸런스 최적화

### **파티 구성 추천 시스템**
- [x] 기본 파티 구성 추천 알고리즘
- [x] 던전별 특화 파티 구성 추천
- [x] 개인화된 파티 구성 추천
- [x] 다양한 전략별 파티 구성 (효율성, 밸런스, 안전성, 시너지)
- [x] 파티 구성 분석 및 점수 계산
- [x] 대안 파티 구성 생성

### **고급 파티 최적화**
- [x] 딜러/버퍼 밸런스 최적화
- [x] 전투력 기반 자동 매칭
- [x] 업둥이 우선 파티 구성
- [x] 파티 효율성 분석 및 개선 제안

### **UI/UX 고도화**
- [x] **고급 반응형 디자인 적용**
  - [x] 모바일, 태블릿, 데스크톱 최적화
  - [x] CSS Grid 및 Flexbox 활용
  - [x] 브레이크포인트별 레이아웃 조정
  - [x] 터치 친화적 인터페이스

- [x] **사용자 정의 테마 시스템**
  - [x] 다크/라이트 테마 전환
  - [x] 시스템 테마 자동 감지
  - [x] CSS 변수 기반 테마 관리
  - [x] 사용자 테마 설정 저장

- [x] **고급 드래그 앤 드롭 파티 구성 UI**
  - [x] 직관적인 드래그 앤 드롭 인터페이스
  - [x] 실시간 시각적 피드백
  - [x] 파티 슬롯 검증 및 제약사항
  - [x] 고급 파티 빌더 컴포넌트

- [x] **애니메이션 및 전환 효과**
  - [x] CSS 애니메이션 시스템
  - [x] 페이지 전환 효과
  - [x] 호버 및 상호작용 애니메이션
  - [x] 로딩 및 피드백 애니메이션

- [x] **접근성 개선**
  - [x] 키보드 네비게이션 지원
  - [x] 스크린 리더 호환성
  - [x] 고대비 모드 지원
  - [x] 애니메이션 줄이기 옵션
  - [x] 포커스 표시 강화

## 🚧 **진행 중인 작업**

### **Phase 3 - 최종 테스트 및 최적화**
- [ ] **사용자 피드백 수집 및 반영**
  - [ ] 베타 테스터 피드백 수집
  - [ ] UI/UX 개선사항 적용
  - [ ] 성능 최적화

- [ ] **프로덕션 환경 준비**
  - [ ] 환경별 설정 파일 정리
  - [ ] 배포 스크립트 최적화
  - [ ] 모니터링 및 로깅 설정

## 📋 **새로 추가된 기능**

### **프론트엔드 개선**
- [x] **UI/UX 고도화** ✅ 완료
  - [x] 고급 반응형 디자인 적용
  - [x] 사용자 정의 테마 시스템
  - [x] 고급 드래그 앤 드롭 파티 구성 UI
  - [x] 애니메이션 및 전환 효과
  - [x] 접근성 개선 (키보드 네비게이션, 스크린 리더 지원)

### **Phase 3 - 고급 파티 기능**
- [x] **파티 최적화** ✅ 완료
- [x] **딜러/버퍼 밸런스 최적화** ✅ 완료
- [x] **전투력 기반 자동 매칭** ✅ 완료
- [x] **파티 구성 추천 시스템** ✅ 완료

### **Phase 4 - 카카오톡 봇 연동 (장기 계획)**
- [ ] **카카오톡 봇 개발**
  - [ ] 카카오비즈니스 플랫폼 연동
  - [ ] 모험단 이름 또는 캐릭터 이름 입력 받기
  - [ ] 던전 이름 (나벨, 안개신, 베누스) 입력 받기
  - [ ] 해당 조건에 맞는 안 간 캐릭터 목록 반환
  - [ ] 봇 응답 메시지 최적화

## 🚀 **개발 우선순위 (최신화됨)**

### **즉시 진행 (1-2주)**
1. ~~8인 파티 구성 기능 구현~~ ✅ 완료
2. ~~프론트엔드 파티 수정 UI 추가~~ ✅ 완료
3. ~~UI/UX 고도화~~ ✅ 완료

### **단기 목표 (3-4주)**
1. ~~UI/UX 개선 및 반응형 디자인~~ ✅ 완료
2. ~~고급 파티 최적화 기능 구현~~ ✅ 완료
3. **최종 테스트 및 배포 준비**

### **중기 목표 (1-2개월)**
1. ~~파티 구성 추천 시스템~~ ✅ 완료
2. ~~실시간 데이터 동기화 개선~~ ✅ 완료
3. ~~UI/UX 고도화 및 사용자 경험 개선~~ ✅ 완료
4. **사용자 가이드 및 문서화**

### **장기 목표 (3-6개월)**
1. **통계 및 분석 기능**
   - 파티 구성 히스토리 분석
   - 캐릭터 사용 통계
   - 던전별 성공률 분석

2. **고급 데이터 관리**
   - 데이터 백업/복원
   - 사용자 설정 동기화
   - 데이터 내보내기/가져오기

3. **카카오톡 봇 연동**
   - 모바일 파티 구성 지원
   - 실시간 알림 및 공유

4. **AI 기반 파티 최적화**
   - 머신러닝 기반 추천
   - 플레이 패턴 학습

## ⚠️ **주의사항**

### **API 제한**
- DFO API 호출 제한: 100회/분
- Dundam.xyz 접근 제한 가능성

### **데이터 정확성**
- DFO API 데이터 실시간성
- Dundam.xyz 데이터 신뢰성

### **성능 고려사항**
- 대량 캐릭터 데이터 처리
- 실시간 파티 구성 계산
- 프론트엔드 렌더링 최적화

### **접근성 고려사항**
- WCAG 2.1 AA 가이드라인 준수
- 키보드 네비게이션 지원
- 스크린 리더 호환성
- 고대비 모드 지원

### **카카오톡 봇 고려사항 (Phase 4로 이동)**
- 카카오비즈니스 플랫폼 정책 준수
- 봇 응답 속도 최적화
- 사용자 입력 처리 안정성

## 🛠 **기술 스택**

### **프론트엔드**
- Vue.js 3 + TypeScript
- Vue Router
- Pinia (상태 관리)
- Vite (빌드 도구)
- Axios (HTTP 클라이언트)
- **새로 추가**: CSS 애니메이션, 반응형 디자인, 접근성 컴포넌트

### **백엔드**
- Spring Boot 3.2.0
- Java 17
- Spring Data JPA
- H2 Database (개발용)
- Gradle (빌드 도구)

### **외부 API**
- Neople DFO API
- Dundam.xyz (캐릭터 스펙)
- 카카오비즈니스 플랫폼 (봇 연동 - Phase 4)

### **데이터베이스**
- H2 Database (개발용)
- MySQL/PostgreSQL (운영용 예정)
- Redis (캐싱용 예정)

## 🎉 **프로젝트 완성도**

### **전체 진행률: 95%**
- **기본 기능**: 100% ✅
- **고급 기능**: 100% ✅
- **UI/UX**: 100% ✅
- **접근성**: 100% ✅
- **테스트 및 최적화**: 90% 🚧

### **다음 마일스톤**
- **프로덕션 배포 준비**: 100% ✅
- **사용자 가이드 작성**: 0% 📋
- **베타 테스트**: 0% ��
- **최종 배포**: 0% 📋 