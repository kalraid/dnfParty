<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Share νλΌλ―Έν„° λ³µνΈν™” ν…μ¤νΈ</title>
    <script src="https://cdn.jsdelivr.net/npm/pako@2.1.0/dist/pako.min.js"></script>
</head>
<body>
    <h1>Share νλΌλ―Έν„° λ³µνΈν™” ν…μ¤νΈ</h1>
    <div id="output"></div>
    
    <script>
        const output = document.getElementById('output');
        
        function log(message) {
            const div = document.createElement('div');
            div.textContent = message;
            output.appendChild(div);
            console.log(message);
        }
        
        const shareData = 'eJyllE1rFEEQhv9Ln1foj6r%2B2LM%2FwHvIobq7GoPrB0a8hByUFULiTSJGWAkoxIOBVRLIIb9oZ%2FIfrBGjQiYi7mXoLqafrnnft2ZHVTVVjyjz7M59elrVRJGabqh7d%2FuD49XFsvv4WUqrb8vV%2BWm%2FOFt9XfaHl1Lp5nur87Pu5DMNm1cX3ZuFPPv9T1f7F93xniyG%2Bum8W1x2H05l3R8erZbv%2B8Xr%2FuWX%2FvhFdzBwr97OhyPzZXey1x8ddgfv1OZEPZEGNnbU1tAZJx%2BYOWEICcClGL2zwQRdPTUTmkC25bVMD2g29F6fy270rpmaNppt8%2B7kJ1pnFlbyCDZira2hrlCwuKQh1ziOvu1Tb9ChFPahGOMiQLCyK4S2JYtSxFxH6SN6jKCLTpqKtAsGSCNbH6LV1TZASiXm8cb%2FNOwXcnNyLbTD4jHo4kET6ZqjTi1aNiWW5ptZR2hXNMVKtuWUodSakZ0XY5mLZqhlDSmaplBrBSgJWsoJIppMDpzROVgT1%2FUQvGY0GorLnKrRKRauScDsQqNR%2Bs1ZGVG7RKroM6Pkr3FuwNaE7JGAtTMO1%2Bs71VZDkySQhISzXBaMDEvOvmFgewt9NCDXSKtdyJSbjVUcdGAkch5dRUAZTDsuxd89%2FK2GLQMcDQJw9CFZJs2%2BotMmtkTjLv7jkLsGJrmqLYl9oUWJss%2FQrEXxkXiN7BGzScPPI5aUWiawhmXWqRjHUSbp%2FzzclB%2FgYzXdUQ9%2FnN3eKmp3op6pqQnoAzgfbLB69zvqoCea';

        log('π”— Share νλΌλ―Έν„° λ³µνΈν™” μ‹μ‘...');
        
        // URL λ””μ½”λ”©
        const decodedShareData = decodeURIComponent(shareData);
        log(`π“¦ URL λ””μ½”λ”© μ™„λ£, κΈΈμ΄: ${decodedShareData.length}`);
        
        // Base64 λ””μ½”λ”©
        const compressed = atob(decodedShareData);
        log(`π“¦ Base64 λ””μ½”λ”© μ™„λ£, μ••μ¶• λ°μ΄ν„° ν¬κΈ°: ${compressed.length}`);
        
        // Uint8Arrayλ΅ λ³€ν™
        const compressedArray = new Uint8Array(compressed.length);
        for (let i = 0; i < compressed.length; i++) {
            compressedArray[i] = compressed.charCodeAt(i);
        }
        log('π”„ Uint8Array λ³€ν™ μ™„λ£');
        
        // μ••μ¶•λ λ°μ΄ν„° λ¶„μ„
        log(`π“ μ••μ¶•λ λ°μ΄ν„° (μ²μ 20λ°”μ΄νΈ): [${compressedArray.slice(0, 20).join(', ')}]`);
        log(`π” Gzip λ§¤μ§ λ„λ²„ ν™•μΈ: ${compressedArray[0]} ${compressedArray[1]} (0x${compressedArray[0].toString(16)} 0x${compressedArray[1].toString(16)})`);
        
        // pakoλ΅ gzip μ••μ¶• ν•΄μ 
        try {
            const jsonString = pako.inflate(compressedArray, { to: 'string' });
            log(`π—οΈ Gzip μ••μ¶• ν•΄μ  μ™„λ£, JSON ν¬κΈ°: ${jsonString.length}`);
            
            const partyData = JSON.parse(jsonString);
            log('π“‹ JSON νμ‹± μ™„λ£');
            
            log('\n=== νν‹° λ°μ΄ν„° λ³µνΈν™” μ™„λ£ ===');
            log(`π° λμ „: ${partyData.d}`);
            log(`π‘¥ λ¨ν—λ‹¨ λ©λ΅: ${partyData.a ? partyData.a.join(', ') : 'μ—†μ'}`);
            log(`π― νν‹° μ: ${partyData.p ? partyData.p.length : 0}`);
            log(`β™οΈ μµμ ν™” λ¨λ“: ${partyData.o?.m || 'μ—†μ'}`);
            log(`β° νƒ€μ„μ¤νƒ¬ν”„: ${partyData.t || 'μ—†μ'}`);
            
            if (partyData.p) {
                log('\n=== νν‹° κµ¬μ„± μƒμ„Έ ===');
                partyData.p.forEach((party, index) => {
                    log(`\nπ® νν‹° ${index + 1}:`);
                    party.forEach((slot, slotIndex) => {
                        if (slot) {
                            log(`  π“ μ¬λ΅― ${slotIndex + 1}: ID=${slot.id}, μ„λ²„=${slot.s}, λ¨ν—λ‹¨=${slot.adv}, μ κΈ=${slot.l}`);
                        }
                    });
                });
            }
            
            // μ›λ³Έ νν‹° μ •λ³΄μ™€ λΉ„κµ
            log('\n=== μ›λ³Έ νν‹° μ •λ³΄μ™€ λΉ„κµ ===');
            log('μ›λ³Έ νν‹° μ •λ³΄:');
            log('νν‹°1|μ΄ μ „ν¬λ ¥: 367.7 μ–µ|λ²„ν”„λ ¥: 503λ§|νν‹° κ³„μ: 1850.64');
            log('νν‹°2|μ΄ μ „ν¬λ ¥: 378.6 μ–µ|λ²„ν”„λ ¥: 518λ§|νν‹° κ³„μ: 1961.02');
            log('νν‹°3|μ΄ μ „ν¬λ ¥: 260.3 μ–µ|λ²„ν”„λ ¥: 530λ§|νν‹° κ³„μ: 1378.81');
            log('νν‹°4|μ΄ μ „ν¬λ ¥: 215.3 μ–µ|λ²„ν”„λ ¥: 535λ§|νν‹° κ³„μ: 1151.61');
            
            log('\nβ… νν‹° κµ¬μ„± λ°μ΄ν„°κ°€ μ„±κ³µμ μΌλ΅ λ³µνΈν™”λμ—μµλ‹λ‹¤!');
            
        } catch (error) {
            log(`β μ••μ¶• ν•΄μ  μ‹¤ν¨: ${error.message}`);
            log(`π“ μ••μ¶•λ λ°μ΄ν„° (μ²μ 100λ°”μ΄νΈ): [${compressedArray.slice(0, 100).join(', ')}]`);
        }
    </script>
</body>
</html>
